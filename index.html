<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IELTS Placement Test | Black White School</title>
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #131314;
            --card-bg: #1e1f20;
            --text-main: #e3e3e3;
            --text-secondary: #c4c7c5;
            --accent: #a8c7fa;
            --error: #f2b8b5;
            --success: #c4eed0;
            --border: #444746;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { background-color: var(--bg-color); color: var(--text-main); font-family: 'Open Sans', sans-serif; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }
        h1, h2, h3, .stat-value { font-family: 'Google Sans', sans-serif; }

        .header { width: 100%; padding: 25px 8%; display: flex; justify-content: space-between; align-items: center; background: rgba(19, 19, 20, 0.9); backdrop-filter: blur(10px); position: sticky; top: 0; z-index: 100; border-bottom: 1px solid var(--border); }
        .brand-container { display: flex; flex-direction: column; }
        .school-name { font-size: 1.5rem; font-weight: 700; color: #fff; line-height: 1.1; }
        .school-slogan { font-size: 0.85rem; color: var(--text-secondary); font-weight: 400; margin-top: 4px; }
        .logo-box img { height: 55px; width: auto; }

        .container { width: 100%; max-width: 900px; padding: 20px; margin-top: 20px; }
        .card { background-color: var(--card-bg); border-radius: 28px; padding: 40px; margin-bottom: 24px; border: 1px solid var(--border); }
        .step { display: none; }
        .step.active { display: block; animation: fadeIn 0.5s ease; }

        .question-text { font-size: 1.15rem; margin-bottom: 20px; color: var(--text-main); line-height: 1.5; }
        .opt-label { display: flex; align-items: center; padding: 18px; margin-bottom: 12px; background: #2b2c2f; border: 1px solid var(--border); border-radius: 18px; cursor: pointer; transition: 0.2s; }
        .opt-label:hover { background: #37393b; border-color: var(--accent); }
        input[type="radio"] { margin-right: 15px; transform: scale(1.3); accent-color: var(--accent); }

        .btn { background-color: var(--accent); color: #062e6f; padding: 16px 32px; border-radius: 100px; border: none; font-weight: 600; cursor: pointer; font-size: 1rem; transition: 0.3s; }
        .btn:hover { opacity: 0.9; box-shadow: 0 4px 12px rgba(168, 199, 250, 0.3); }

        .stats-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px; margin: 30px 0; }
        .stat-box { background: #2b2c2f; padding: 24px; border-radius: 24px; border: 1px solid var(--border); }
        .stat-label { color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 10px; }
        .stat-value { font-size: 2.2rem; font-weight: 700; color: var(--text-main); }
        .mini-stats { display: flex; flex-direction: column; gap: 10px; }
        .mini-item { display: flex; justify-content: space-between; color: var(--text-secondary); font-size: 0.95rem; }

        .review-item { background: #2b2c2f; border-radius: 20px; padding: 24px; margin-bottom: 16px; border: 1px solid var(--border); }
        .review-correct { border-left: 6px solid #4caf50; }
        .review-incorrect { border-left: 6px solid #f44336; }
        .explanation { margin-top: 15px; padding: 14px; background: rgba(168, 199, 250, 0.08); border-radius: 14px; font-size: 0.9rem; color: var(--accent); line-height: 1.4; }

        input.field { width: 100%; background: #2b2c2f; border: 1px solid var(--border); padding: 18px; border-radius: 18px; color: #fff; margin-bottom: 20px; font-size: 1rem; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

<div class="header">
    <div class="brand-container">
        <div class="school-name">Black White School</div>
        <div class="school-slogan">Ajudando você a entender o mundo</div>
    </div>
    <div class="logo-box"><img src="logos.png" alt="Logo"></div>
</div>

<div class="container">
    <div class="card">
        <div class="step active" id="step-0">
            <h2 style="margin-bottom:12px">Teste de Nivelamento IELTS</h2>
            <p style="color:var(--text-secondary); margin-bottom:30px">Avalie seu inglês com questões oficiais e feedback instantâneo.</p>
            <input type="text" id="stuName" class="field" placeholder="Nome Completo">
            <input type="tel" id="stuPhone" class="field" placeholder="WhatsApp">
            <button class="btn" onclick="startTest()">Começar Teste</button>
        </div>
        <div id="quiz-content"></div>
        <div class="step" id="step-result">
            <h2>Resultado da Avaliação</h2>
            <div class="stats-grid">
                <div class="stat-box"><div class="stat-label">Band Score</div><div class="stat-value" id="res-band">0.0</div></div>
                <div class="stat-box"><div class="stat-label">Precisão</div><div class="stat-value" id="res-accuracy">0%</div></div>
                <div class="stat-box">
                    <div class="mini-stats">
                        <div class="mini-item"><span>Acertos</span> <strong id="res-right" style="color:var(--success)">0</strong></div>
                        <div class="mini-item"><span>Erros</span> <strong id="res-wrong" style="color:var(--error)">0</strong></div>
                    </div>
                </div>
            </div>
            <button class="btn" id="wa-btn" style="width:100%; margin-bottom:40px; background-color:#25D366; color:#fff">Enviar resultado no WhatsApp</button>
            <h3 style="margin-bottom:20px">Revisão e Feedback</h3>
            <div id="review-area"></div>
        </div>
    </div>
</div>

<script>
    const questions = [
        // 1-10: NÍVEL BÁSICO / FUNDAMENTOS
        { q: "Where is the cat? It's _______ the chair.", a: ["under", "between", "among", "through"], c: 0, f: "Usamos 'under' para algo que está embaixo de um objeto." },
        { q: "I have _______ apple in my bag.", a: ["a", "an", "the", "some"], c: 1, f: "Usamos 'an' antes de palavras com som de vogal." },
        { q: "What is the plural of 'child'?", a: ["childs", "childes", "children", "childrens"], c: 2, f: "'Children' é um plural irregular de 'child'." },
        { q: "She _______ to the gym every morning.", a: ["go", "goes", "going", "gone"], c: 1, f: "Para He/She/It no presente, adicionamos 'es' ao verbo 'go'." },
        { q: "Monday, Tuesday, _______, Thursday...", a: ["Friday", "Saturday", "Wednesday", "Sunday"], c: 2, f: "A sequência correta é Segunda, Terça, Quarta (Wednesday)." },
        { q: "I _______ a student at Black White School.", a: ["is", "am", "are", "be"], c: 1, f: "Com o pronome 'I', usamos a forma 'am' do verbo To Be." },
        { q: "Do you have _______ friends in London?", a: ["much", "many", "a lot", "very"], c: 1, f: "Usamos 'many' para substantivos contáveis no plural." },
        { q: "_______ is your birthday?", a: ["When", "Who", "What", "Where"], c: 0, f: "'When' é usado para perguntar sobre tempo ou datas." },
        { q: "My father's sister is my _______.", a: ["aunt", "uncle", "cousin", "niece"], c: 0, f: "A irmã do pai é a tia (aunt)." },
        { q: "He _______ very happy yesterday.", a: ["is", "was", "were", "been"], c: 1, f: "O passado do verbo To Be para 'He' é 'was'." },

        // 11-20: NÍVEL PRÉ-INTERMEDIÁRIO
        { q: "I _______ seen that movie before.", a: ["has", "have", "am", "did"], c: 1, f: "Present Perfect utiliza 'have' + particípio para experiências passadas." },
        { q: "If it rains tomorrow, we _______ the game.", a: ["cancel", "would cancel", "will cancel", "canceled"], c: 2, f: "First Conditional: 'If + Presente' gera 'Will + Verbo'." },
        { q: "This house is _______ than the other one.", a: ["big", "bigger", "biggest", "more big"], c: 1, f: "Comparativos de adjetivos curtos usam a terminação '-er'." },
        { q: "I _______ working when the phone rang.", a: ["was", "were", "did", "am"], c: 0, f: "Past Continuous descreve uma ação em progresso no passado." },
        { q: "You _______ smoke here. It's against the law.", a: ["mustn't", "don't have to", "couldn't", "won't"], c: 0, f: "'Mustn't' é usado para proibições legais ou fortes." },
        { q: "I'm looking forward to _______ you.", a: ["meet", "meeting", "met", "to meet"], c: 1, f: "Após 'look forward to', o verbo deve estar no gerúndio (-ing)." },
        { q: "He is the _______ person I know.", a: ["funny", "funnier", "funniest", "most funny"], c: 2, f: "Superlativo de adjetivos curtos terminados em 'y' usa '-iest'." },
        { q: "She has been studying here _______ three months.", a: ["since", "for", "at", "during"], c: 1, f: "Usamos 'for' para indicar duração de tempo." },
        { q: "_______ car is this parked outside?", a: ["Who", "Whom", "Whose", "Who's"], c: 2, f: "'Whose' indica posse (de quem)." },
        { q: "I _______ go to the beach if I finish my work.", a: ["might", "must", "should", "am"], c: 0, f: "'Might' expressa uma possibilidade remota ou incerta." },

        // 21-30: NÍVEL INTERMEDIÁRIO / IELTS 5-6
        { q: "The book _______ was written by Orwell is famous.", a: ["who", "which", "whose", "whom"], c: 1, f: "Usamos 'which' para pronomes relativos referindo-se a objetos." },
        { q: "I _______ my car repaired yesterday.", a: ["had", "did", "gotten", "was"], c: 0, f: "Estrutura causativa: 'Have something done'." },
        { q: "Unless it _______, we will go for a walk.", a: ["rains", "doesn't rain", "will rain", "rained"], c: 0, f: "'Unless' já significa 'se não', exigindo o verbo na afirmativa." },
        { q: "I wish I _______ more time to study.", a: ["have", "had", "will have", "would have"], c: 1, f: "Desejos sobre o presente usam o Past Simple após 'wish'." },
        { q: "The results will _______ next week.", a: ["be announce", "be announced", "announce", "announced"], c: 1, f: "Voz passiva no futuro: 'will be' + particípio passado." },
        { q: "I'm not used to _______ up so early.", a: ["get", "getting", "got", "gets"], c: 1, f: "A expressão 'be used to' exige o verbo no gerúndio." },
        { q: "He denied _______ the money.", a: ["steal", "to steal", "stealing", "stolen"], c: 2, f: "O verbo 'deny' é seguido obrigatoriamente por gerúndio." },
        { q: "By the time he arrived, we _______ already left.", a: ["have", "had", "were", "did"], c: 1, f: "Past Perfect indica uma ação que ocorreu antes de outra no passado." },
        { q: "The _______ of the research was unexpected.", a: ["outcome", "outgo", "output", "outlook"], c: 0, f: "'Outcome' é o termo acadêmico para resultado de um estudo." },
        { q: "I'd rather you _______ tell anyone about this.", a: ["don't", "didn't", "not", "won't"], c: 1, f: "'Would rather' com novo sujeito pede Past Simple." },

        // 31-40: NÍVEL AVANÇADO / IELTS 7+
        { q: "Scarcely _______ the room when the phone rang.", a: ["I had entered", "had I entered", "I entered", "did I enter"], c: 1, f: "Inversão gramatical após advérbios negativos no início da frase." },
        { q: "It's high time the government _______ action.", a: ["takes", "took", "take", "has taken"], c: 1, f: "A expressão 'It's high time' exige o uso do Past Simple." },
        { q: "The manager suggested that he _______ harder.", a: ["work", "works", "worked", "to work"], c: 0, f: "Subjuntivo acadêmico exige a forma base do verbo (work)." },
        { q: "In _______ of the rain, the event continued.", a: ["spite", "despite", "although", "even"], c: 0, f: "A locução correta é 'In spite of'." },
        { q: "Had I known about the traffic, I _______ earlier.", a: ["would leave", "left", "would have left", "will leave"], c: 2, f: "Inversão da Third Conditional para situações hipotéticas passadas." },
        { q: "The criteria _______ used for the selection were strict.", a: ["was", "were", "is", "has been"], c: 1, f: "'Criteria' é o plural da palavra latina 'criterion'." },
        { q: "Never _______ such a beautiful sunset.", a: ["I have seen", "have I seen", "I saw", "saw I"], c: 1, f: "Outro caso de inversão enfática com o advérbio 'Never'." },
        { q: "The problem is _______ complicated to solve easily.", a: ["too", "very", "enough", "so"], c: 0, f: "Usamos 'too + adjetivo + to' para indicar excesso negativo." },
        { q: "Objective data _______ that the theory is correct.", a: ["suggest", "suggests", "suggesting", "is suggest"], c: 1, f: "Concordância verbal: 'Data' no singular (coletivo) ou plural." },
        { q: "I found the lecture _______ interesting.", a: ["highly", "high", "height", "higher"], c: 0, f: "Usamos o advérbio 'highly' para intensificar adjetivos acadêmicos." }
    ];

    let userAnswers = {};
    function startTest() {
        if(document.getElementById('stuName').value.length < 3) return alert("Digite seu nome.");
        showPage(1);
    }
    function showPage(p) {
        document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
        const target = document.getElementById('step-' + p);
        if(target) target.classList.add('active');
        window.scrollTo(0,0);
    }
    function buildQuiz() {
        const container = document.getElementById('quiz-content');
        const qPerPage = 8;
        for(let p=0; p < 5; p++) {
            const div = document.createElement('div');
            div.className = 'step'; div.id = 'step-' + (p+1);
            let html = `<h2 style="margin-bottom:30px">Parte ${p+1} / 5</h2>`;
            for(let i=0; i < qPerPage; i++) {
                let idx = (p * qPerPage) + i;
                html += `<div class="question-item" style="margin-bottom:40px"><p class="question-text"><strong>${idx+1}.</strong> ${questions[idx].q}</p>`;
                questions[idx].a.forEach((opt, oI) => {
                    html += `<label class="opt-label"><input type="radio" name="q${idx}" onclick="userAnswers[${idx}]=${oI}"> ${opt}</label>`;
                });
                html += `</div>`;
            }
            let isLast = (p === 4);
            html += `<button class="btn" onclick="${isLast ? 'finalize()' : `showPage(${p+2})`}">${isLast ? 'Finalizar' : 'Próximo'}</button>`;
            div.innerHTML = html; container.appendChild(div);
        }
    }
    function finalize() {
        let right = 0, wrong = 0;
        let reviewHtml = "";
        questions.forEach((q, i) => {
            let isC = (userAnswers[i] === q.c);
            if(isC) right++; else wrong++;
            reviewHtml += `<div class="review-item ${isC ? 'review-correct' : 'review-incorrect'}"><p><strong>${i+1}.</strong> ${q.q}</p><p style="font-size:0.9rem">Sua resposta: ${userAnswers[i] !== undefined ? q.a[userAnswers[i]] : "Em branco"}</p>${!isC ? `<p style="font-size:0.9rem; color:var(--accent)">Correta: ${q.a[q.c]}</p>` : ""}<div class="explanation"><strong>Dica:</strong> ${q.f}</div></div>`;
        });
        document.getElementById('res-band').innerText = ((right / 40) * 9).toFixed(1);
        document.getElementById('res-accuracy').innerText = Math.round((right/40)*100) + "%";
        document.getElementById('res-right').innerText = right;
        document.getElementById('res-wrong').innerText = wrong;
        document.getElementById('review-area').innerHTML = reviewHtml;
        document.getElementById('wa-btn').onclick = () => {
            const msg = encodeURIComponent(`*IELTS RESULT - Black White School*\n*Nome:* ${document.getElementById('stuName').value}\n*Score:* ${((right/40)*9).toFixed(1)}\n*Acertos:* ${right}/40`);
            window.open(`https://wa.me/5519991717549?text=${msg}`);
        };
        showPage('result');
    }
    window.onload = buildQuiz;
</script>
</body>
</html>
