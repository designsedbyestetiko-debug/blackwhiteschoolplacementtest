<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IELTS Placement Test | Black White School</title>
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #131314;
            --card-bg: #1e1f20;
            --text-main: #e3e3e3;
            --text-secondary: #c4c7c5;
            --accent: #a8c7fa;
            --error: #f2b8b5;
            --success: #c4eed0;
            --border: #444746;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body { 
            background-color: var(--bg-color); 
            color: var(--text-main); 
            font-family: 'Open Sans', sans-serif;
            display: flex; flex-direction: column; align-items: center;
            min-height: 100vh;
        }

        h1, h2, h3, .score-value { font-family: 'Google Sans', sans-serif; }

        /* Header Estilo Gemini */
        .header {
            width: 100%; padding: 20px 5%;
            display: flex; justify-content: space-between; align-items: center;
            background: rgba(19, 19, 20, 0.8); backdrop-filter: blur(10px);
            position: sticky; top: 0; z-index: 100;
        }

        .school-logo { font-size: 1.4rem; font-weight: 700; color: #fff; }
        .school-logo span { color: #d32f2f; }
        .header img { height: 45px; filter: brightness(0) invert(1); opacity: 0.8; }

        .container { width: 100%; max-width: 900px; padding: 20px; margin-top: 20px; }

        /* Card Estilo Gemini */
        .card {
            background-color: var(--card-bg);
            border-radius: 24px;
            padding: 32px;
            margin-bottom: 24px;
            border: 1px solid var(--border);
        }

        .step { display: none; }
        .step.active { display: block; animation: fadeIn 0.5s ease; }

        /* Question Style */
        .question-text { font-size: 1.2rem; margin-bottom: 20px; color: var(--text-main); }
        .opt-label {
            display: flex; align-items: center;
            padding: 16px; margin-bottom: 12px;
            background: #2b2c2f; border: 1px solid var(--border);
            border-radius: 16px; cursor: pointer; transition: 0.2s;
        }
        .opt-label:hover { background: #37393b; border-color: var(--accent); }
        input[type="radio"] { margin-right: 15px; transform: scale(1.2); accent-color: var(--accent); }

        /* Buttons */
        .btn {
            background-color: var(--accent); color: #062e6f;
            padding: 14px 28px; border-radius: 100px;
            border: none; font-weight: 600; cursor: pointer;
            font-size: 1rem; transition: 0.3s;
        }
        .btn:hover { opacity: 0.9; transform: translateY(-1px); }

        /* Stats Grid (Visual do Print) */
        .stats-grid {
            display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px; margin-bottom: 24px;
        }
        .stat-box {
            background: #2b2c2f; padding: 20px; border-radius: 20px; text-align: left;
        }
        .stat-label { color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 8px; }
        .stat-value { font-size: 2rem; font-weight: 700; color: var(--text-main); }
        .mini-stats { display: flex; flex-direction: column; gap: 8px; }
        .mini-item { display: flex; justify-content: space-between; color: var(--text-secondary); }

        /* Review Items */
        .review-item {
            background: #1e1f20; border-radius: 20px; padding: 20px;
            margin-bottom: 16px; border-left: 5px solid var(--border);
        }
        .review-correct { border-left-color: #4caf50; }
        .review-incorrect { border-left-color: #f44336; }
        .explanation { 
            margin-top: 10px; padding: 12px; background: rgba(168, 199, 250, 0.1); 
            border-radius: 12px; font-size: 0.9rem; color: var(--accent);
        }

        input.field {
            width: 100%; background: #2b2c2f; border: 1px solid var(--border);
            padding: 16px; border-radius: 16px; color: #fff; margin-bottom: 20px;
        }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

<div class="header">
    <div class="school-logo">BLACK <span>WHITE</span> SCHOOL</div>
    <img src="logos.png" alt="IELTS Partners">
</div>

<div class="container">
    <div class="card">
        <div class="step active" id="step-0">
            <h2 style="margin-bottom:24px">Placement Test Registration</h2>
            <input type="text" id="stuName" class="field" placeholder="Seu nome completo">
            <input type="tel" id="stuPhone" class="field" placeholder="Seu WhatsApp">
            <button class="btn" onclick="startTest()">Iniciar Avaliação</button>
        </div>

        <div id="quiz-content"></div>

        <div class="step" id="step-result">
            <h2 style="margin-bottom:24px">You did it! Quiz complete.</h2>
            
            <div class="stats-grid">
                <div class="stat-box">
                    <div class="stat-label">IELTS Band Score</div>
                    <div class="stat-value" id="res-band">0.0</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label">Accuracy</div>
                    <div class="stat-value" id="res-accuracy">0%</div>
                </div>
                <div class="stat-box">
                    <div class="mini-stats">
                        <div class="mini-item"><span>Right</span> <strong id="res-right" style="color:#c4eed0">0</strong></div>
                        <div class="mini-item"><span>Wrong</span> <strong id="res-wrong" style="color:#f2b8b5">0</strong></div>
                        <div class="mini-item"><span>Skipped</span> <strong id="res-skipped">0</strong></div>
                    </div>
                </div>
            </div>

            <button class="btn" id="wa-btn" style="width:100%; margin-bottom:30px">Enviar Resultado para o Professor</button>
            
            <h3 style="margin-bottom:20px">Review your answers</h3>
            <div id="review-area"></div>
        </div>
    </div>
</div>

<script>
    const questions = [
        // FUNDAMENTOS (1-10)
        { q: "Choose the correct preposition: The keys are _______ the table.", a: ["on", "in", "at", "under"], c: 0, f: "Usamos 'on' para superfícies." },
        { q: "Which article is correct? I want to eat _______ apple.", a: ["a", "an", "the", "some"], c: 1, f: "Usamos 'an' antes de sons de vogais." },
        { q: "_______ is your teacher?", a: ["What", "Where", "Who", "Whose"], c: 2, f: "Usamos 'Who' para pessoas." },
        { q: "They _______ at the party last night.", a: ["was", "were", "is", "are"], c: 1, f: "Passado de 'To Be' para plural (They) é 'were'." },
        { q: "I don't have _______ water in my bottle.", a: ["many", "much", "a lot of", "very"], c: 1, f: "Usamos 'much' para substantivos incontáveis em negativas." },
        { q: "What color is a banana?", a: ["Red", "Green", "Blue", "Yellow"], c: 3, f: "Vocabulário básico: Yellow (Amarelo)." },
        { q: "Choose the negative: She _______ like pizza.", a: ["don't", "doesn't", "isn't", "not"], c: 1, f: "Auxiliar negativo para 3ª pessoa (She) é 'doesn't'." },
        { q: "I am staying home _______ it is raining.", a: ["but", "so", "because", "and"], c: 2, f: "Usamos 'because' para explicar a causa/razão." },
        { q: "_______ car is this?", a: ["Who", "Whose", "Who's", "Which"], c: 1, f: "Usamos 'Whose' para perguntar sobre posse (de quem)." },
        { q: "Yesterday was Monday. Today is _______.", a: ["Sunday", "Tuesday", "Wednesday", "Friday"], c: 1, f: "Dias da semana: Tuesday (Terça) vem após Monday." },
        
        // INTERMEDIÁRIO (11-25)
        { q: "I have been living here _______ 2010.", a: ["for", "since", "during", "at"], c: 1, f: "Usamos 'since' para um ponto específico no tempo." },
        { q: "If it rains, I _______ stay at home.", a: ["would", "will", "did", "am"], c: 1, f: "First Conditional: Futuro real com 'will'." },
        { q: "He is _______ than his brother.", a: ["tall", "taller", "tallest", "more tall"], c: 1, f: "Comparativo de adjetivos curtos recebe '-er'." },
        { q: "I _______ my homework already.", a: ["finish", "have finished", "finishing", "was finish"], c: 1, f: "Present Perfect para ações concluídas com impacto no presente." },
        { q: "The movie was _______.", a: ["bored", "boring", "bore", "bores"], c: 1, f: "Usamos '-ing' para descrever a característica de algo." },
        { q: "_______ you ever been to London?", a: ["Do", "Did", "Have", "Were"], c: 2, f: "Pergunta de experiência de vida usa Present Perfect (Have)." },
        { q: "This is the _______ book I've ever read.", a: ["good", "better", "best", "goodest"], c: 2, f: "Superlativo irregular de 'good' é 'best'." },
        { q: "He drives _______.", a: ["careful", "carefully", "carefulness", "more careful"], c: 1, f: "Usamos advérbios (-ly) para descrever como uma ação é feita." },
        { q: "I enjoy _______ music.", a: ["listen", "to listen", "listening", "listened"], c: 2, f: "O verbo 'enjoy' exige o gerúndio (-ing) no verbo seguinte." },
        { q: "We _______ watch TV when the power went out.", a: ["are", "were", "was", "been"], c: 1, f: "Past Continuous: Ação em curso no passado." },
        { q: "There are _______ students in the class.", a: ["much", "any", "a few", "a little"], c: 2, f: "Usamos 'a few' para contáveis (estudantes)." },
        { q: "I _______ go to the gym tomorrow, but I'm not sure.", a: ["must", "might", "should", "will"], c: 1, f: "Usamos 'might' para possibilidade incerta." },
        { q: "The letter _______ by Mary yesterday.", a: ["wrote", "was written", "is writing", "write"], c: 1, f: "Voz Passiva: Objeto + was/were + particípio." },
        { q: "She _______ her keys again. She's so forgetful!", a: ["lost", "has lost", "is losing", "was lost"], c: 1, f: "Present Perfect para algo que acabou de acontecer." },
        { q: "You _______ smoke here. It's prohibited.", a: ["don't have to", "mustn't", "couldn't", "won't"], c: 1, f: "'Mustn't' indica proibição severa." },

        // ACADÊMICO/AVANÇADO (26-40)
        { q: "Rarely _______ such a beautiful performance.", a: ["we see", "do we see", "we saw", "we have seen"], c: 1, f: "Inversão negativa com advérbios de frequência." },
        { q: "The report _______ that climate change is accelerating.", a: ["concluded", "concludes", "concluding", "is conclude"], c: 1, f: "Present Simple para relatar fatos científicos." },
        { q: "Despite _______ hard, he failed the exam.", a: ["study", "studying", "studied", "he studied"], c: 1, f: "'Despite' exige gerúndio ou substantivo." },
        { q: "I look forward to _______ you next week.", a: ["meet", "meeting", "met", "to meet"], c: 1, f: "A preposição 'to' nesta expressão exige gerúndio." },
        { q: "It's essential that he _______ on time.", a: ["is", "be", "was", "been"], c: 1, f: "Subjuntivo acadêmico exige a forma base (be)." },
        { q: "By next year, I _______ my degree.", a: ["finish", "will have finished", "have finished", "will finish"], c: 1, f: "Future Perfect para conclusão antes de um ponto futuro." },
        { q: "The data _______ carefully analyzed.", a: ["was", "were", "is", "being"], c: 1, f: "Em escrita acadêmica, 'Data' é tratado como plural." },
        { q: "Had I known, I _______ differently.", a: ["acted", "would act", "would have acted", "will act"], c: 2, f: "Third Conditional invertido (Hipotético passado)." },
        { q: "The discovery was _______ important.", a: ["considerable", "considerably", "consider", "considering"], c: 1, f: "Advérbio modificando o adjetivo 'important'." },
        { q: "Not only _______ late, but he also forgot the files.", a: ["he arrived", "did he arrive", "arrived he", "he did arrive"], c: 1, f: "Inversão com 'Not only'." },
        { q: "The company is known for _______ innovation.", a: ["produce", "producing", "production", "produced"], c: 1, f: "Gerúndio após preposição 'for'." },
        { q: "Under no circumstances _______ the alarm.", a: ["you should touch", "should you touch", "you touch", "touch you"], c: 1, f: "Inversão formal negativa." },
        { q: "The criteria _______ strictly applied.", a: ["was", "were", "is", "has been"], c: 1, f: "'Criteria' é o plural de 'criterion'." },
        { q: "He suggested _______ a different approach.", a: ["take", "to take", "taking", "takes"], c: 2, f: "Verbo 'suggest' pede gerúndio." },
        { q: "I'd rather you _______ tell anyone.", a: ["don't", "didn't", "won't", "not"], c: 1, f: "'Would rather' com novo sujeito pede Past Simple." }
    ];

    let userAnswers = {};

    function startTest() {
        const name = document.getElementById('stuName').value;
        if(name.length < 3) return alert("Por favor, digite seu nome.");
        showPage(1);
    }

    function showPage(p) {
        document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
        const target = document.getElementById('step-' + p);
        if(target) target.classList.add('active');
        window.scrollTo(0,0);
    }

    function buildQuiz() {
        const container = document.getElementById('quiz-content');
        const questionsPerPage = 8;
        const totalPages = 5;

        for(let p=0; p < totalPages; p++) {
            const div = document.createElement('div');
            div.className = 'step';
            div.id = 'step-' + (p+1);
            
            let html = `<h2 style="margin-bottom:30px">Página ${p+1} de 5</h2>`;
            for(let i=0; i < questionsPerPage; i++) {
                let idx = (p * questionsPerPage) + i;
                html += `
                    <div class="question-item" style="margin-bottom:40px">
                        <p class="question-text"><strong>${idx + 1}.</strong> ${questions[idx].q}</p>
                        ${questions[idx].a.map((opt, oI) => `
                            <label class="opt-label">
                                <input type="radio" name="q${idx}" onclick="userAnswers[${idx}]=${oI}"> ${opt}
                            </label>
                        `).join('')}
                    </div>`;
            }

            const isLast = (p === totalPages - 1);
            html += `<button class="btn" onclick="${isLast ? 'finalize()' : `showPage(${p+2})`}">${isLast ? 'Finalizar Teste' : 'Próxima Página'}</button>`;
            div.innerHTML = html;
            container.appendChild(div);
        }
    }

    function finalize() {
        let right = 0, wrong = 0, skipped = 0;
        let reviewHtml = "";

        questions.forEach((q, i) => {
            if(userAnswers[i] === undefined) {
                skipped++;
                reviewHtml += createReviewItem(q, i, "Skipped", false);
            } else if(userAnswers[i] === q.c) {
                right++;
                reviewHtml += createReviewItem(q, i, q.a[userAnswers[i]], true);
            } else {
                wrong++;
                reviewHtml += createReviewItem(q, i, q.a[userAnswers[i]], false);
            }
        });

        const band = ((right / 40) * 9).toFixed(1);
        const accuracy = Math.round((right / 40) * 100);

        document.getElementById('res-band').innerText = band;
        document.getElementById('res-accuracy').innerText = accuracy + "%";
        document.getElementById('res-right').innerText = right;
        document.getElementById('res-wrong').innerText = wrong;
        document.getElementById('res-skipped').innerText = skipped;
        document.getElementById('review-area').innerHTML = reviewHtml;

        document.getElementById('wa-btn').onclick = () => {
            const msg = encodeURIComponent(`*IELTS RESULT*\nCandidato: ${document.getElementById('stuName').value}\nScore: ${band}\nAcertos: ${right}/40\nAccuracy: ${accuracy}%`);
            window.open(`https://wa.me/5519991717549?text=${msg}`);
        };

        showPage('result');
    }

    function createReviewItem(q, i, userAns, isCorrect) {
        return `
            <div class="review-item ${isCorrect ? 'review-correct' : 'review-incorrect'}">
                <p style="margin-bottom:8px"><strong>${i+1}.</strong> ${q.q}</p>
                <p style="font-size:0.9rem; color:var(--text-secondary)">Sua resposta: ${userAns}</p>
                ${!isCorrect ? `<p style="font-size:0.9rem; color:var(--accent)">Correta: ${q.a[q.c]}</p>` : ''}
                <div class="explanation"><strong>Feedback:</strong> ${q.f}</div>
            </div>`;
    }

    window.onload = buildQuiz;
</script>
</body>
</html>
